{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alost\\\\desktop\\\\lambda\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Login = () => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [credentials, setCredentials] = useState({});\n  const history = useHistory();\n\n  const login = e => {\n    e.preventDefault();\n    axiosWithAuth().post(\"http://localhost:5000/api/login\", credentials).then(res => {\n      console.log(res);\n      localStorage.setItem(\"token\", res.data.payload);\n      history.push(\"/\");\n    });\n  };\n\n  const handleChange = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Username\", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Enter Username\",\n    value: credentials.username,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    htmlFor: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Password\", React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Enter Password\",\n    value: credentials.password,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Log in\"))));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/alost/desktop/lambda/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","axiosWithAuth","useHistory","Login","credentials","setCredentials","history","login","e","preventDefault","post","then","res","console","log","localStorage","setItem","data","payload","push","handleChange","target","name","value","username","password"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB;AACA;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCL,QAAQ,CAAC,EAAD,CAA9C;AAEA,QAAMM,OAAO,GAAGJ,UAAU,EAA1B;;AAEA,QAAMK,KAAK,GAAIC,CAAD,IAAO;AACnBA,IAAAA,CAAC,CAACC,cAAF;AACAR,IAAAA,aAAa,GACVS,IADH,CACQ,iCADR,EAC2CN,WAD3C,EAEGO,IAFH,CAESC,GAAD,IAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACK,IAAJ,CAASC,OAAvC;AACAZ,MAAAA,OAAO,CAACa,IAAR,CAAa,GAAb;AACD,KANH;AAOD,GATD;;AAWA,QAAMC,YAAY,GAAIZ,CAAD,IAAO;AAC1BH,IAAAA,cAAc,CAAC,EACb,GAAGD,WADU;AAEb,OAACI,CAAC,CAACa,MAAF,CAASC,IAAV,GAAiBd,CAAC,CAACa,MAAF,CAASE;AAFb,KAAD,CAAd;AAID,GALD;;AAMA,SACE,0CACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEhB,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,WAAW,EAAC,gBAHd;AAIE,IAAA,KAAK,EAAEH,WAAW,CAACoB,QAJrB;AAKE,IAAA,QAAQ,EAAEJ,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAWE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAEE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,WAAW,EAAC,gBAHd;AAIE,IAAA,KAAK,EAAEhB,WAAW,CAACqB,QAJrB;AAKE,IAAA,QAAQ,EAAEL,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAXF,EAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cArBF,CADF,CADF,CADF;AA6BD,CArDD;;AAuDA,eAAejB,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Login = () => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [credentials, setCredentials] = useState({});\n\n  const history = useHistory();\n\n  const login = (e) => {\n    e.preventDefault();\n    axiosWithAuth()\n      .post(\"http://localhost:5000/api/login\", credentials)\n      .then((res) => {\n        console.log(res);\n        localStorage.setItem(\"token\", res.data.payload);\n        history.push(\"/\");\n      });\n  };\n\n  const handleChange = (e) => {\n    setCredentials({\n      ...credentials,\n      [e.target.name]: e.target.value,\n    });\n  };\n  return (\n    <>\n      <div className=\"login\">\n        <form onSubmit={login}>\n          <label htmlFor=\"username\">\n            Username\n            <input\n              type=\"text\"\n              name=\"username\"\n              placeholder=\"Enter Username\"\n              value={credentials.username}\n              onChange={handleChange}\n            />\n          </label>\n          <label htmlFor=\"Password\">\n            Password\n            <input\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Enter Password\"\n              value={credentials.password}\n              onChange={handleChange}\n            />\n          </label>\n          <button>Log in</button>\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}