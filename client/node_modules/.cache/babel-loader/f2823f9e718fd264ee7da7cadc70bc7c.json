{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alost\\\\desktop\\\\lambda\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\ColorList.js\";\nimport React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nconst initialColor = {\n  color: \"\",\n  code: {\n    hex: \"\"\n  }\n};\n\nconst ColorList = ({\n  colors,\n  updateColors\n}) => {\n  const [editing, setEditing] = useState(false);\n  const [color, setColor] = useState(initialColor);\n\n  const editColor = color => {\n    setEditing(true);\n    setColor(color);\n  };\n\n  const reset = () => {\n    setColor(initialColor);\n    setEditing(false);\n  };\n\n  const updateColor = () => {\n    // Make a put request to save your updated color\n    // think about where will you get the id from...\n    // where is is saved right now?\n    axiosWithAuth().put(`http://localhost:5000/api/colors/${colors.id}`, color).then(res => {\n      // update the color in the colors list\n      const updatedColors = colors.map(color => color.id === res.data.id ? res.data : color);\n      updateColors(updatedColors);\n      reset();\n    }).catch(err => {\n      console.log(\"Error:\", err);\n    });\n  };\n\n  const saveColor = () => {\n    axiosWithAuth().post(\"/api/colors\", color).then(res => {\n      const colors = res.data;\n      updateColors(colors);\n      reset();\n    }).catch(err => {\n      console.log(\"Error:\", err);\n    });\n  };\n\n  const deleteColor = color => {\n    // make a delete request to delete this color\n    axiosWithAuth().delete(`http://localhost:5000/api/colors/${color.id}`).then(res => {\n      const updatedColors = colors.filter(color => color.id !== res.data);\n      updateColors(updatedColors);\n      setColor(initialColor);\n    }).catch(err => {\n      console.log(\"Error: \", err);\n    });\n  };\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n\n    if (!(color.color && color.code.hex)) {\n      return;\n    }\n\n    if (color.id) {\n      updateColor();\n    } else {\n      saveColor();\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"colors-wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"colors\"), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, colors.map(color => React.createElement(\"li\", {\n    key: color.color,\n    onClick: () => editColor(color),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"delete\",\n    onClick: e => {\n      e.stopPropagation();\n      deleteColor(color);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"x\"), \" \", color.color), React.createElement(\"div\", {\n    className: \"color-box\",\n    style: {\n      backgroundColor: color.code.hex\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  })))), React.createElement(\"form\", {\n    onSubmit: handleFormSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, `${editing ? \"edit\" : \"add\"} color`), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"color name:\", React.createElement(\"input\", {\n    onChange: e => setColor({ ...color,\n      color: e.target.value\n    }),\n    value: color.color,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"hex code:\", React.createElement(\"input\", {\n    onChange: e => setColor({ ...color,\n      code: {\n        hex: e.target.value\n      }\n    }),\n    value: color.code.hex,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"button-row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, editing ? \"update\" : \"save\"), React.createElement(\"button\", {\n    onClick: reset,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"cancel\"))), React.createElement(\"div\", {\n    className: \"spacer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }));\n};\n\nexport default ColorList;","map":{"version":3,"sources":["C:/Users/alost/desktop/lambda/web-sprint-challenge-advanced-web-applications/client/src/components/ColorList.js"],"names":["React","useState","axiosWithAuth","initialColor","color","code","hex","ColorList","colors","updateColors","editing","setEditing","setColor","editColor","reset","updateColor","put","id","then","res","updatedColors","map","data","catch","err","console","log","saveColor","post","deleteColor","delete","filter","handleFormSubmit","e","preventDefault","stopPropagation","backgroundColor","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\n\nconst initialColor = {\n  color: \"\",\n  code: { hex: \"\" },\n};\n\nconst ColorList = ({ colors, updateColors }) => {\n  const [editing, setEditing] = useState(false);\n  const [color, setColor] = useState(initialColor);\n\n  const editColor = (color) => {\n    setEditing(true);\n    setColor(color);\n  };\n\n  const reset = () => {\n    setColor(initialColor);\n    setEditing(false);\n  };\n\n  const updateColor = () => {\n    // Make a put request to save your updated color\n    // think about where will you get the id from...\n    // where is is saved right now?\n    axiosWithAuth()\n      .put(`http://localhost:5000/api/colors/${colors.id}`, color)\n      .then((res) => {\n        // update the color in the colors list\n        const updatedColors = colors.map((color) =>\n          color.id === res.data.id ? res.data : color\n        );\n        updateColors(updatedColors);\n        reset();\n      })\n      .catch((err) => {\n        console.log(\"Error:\", err);\n      });\n  };\n\n  const saveColor = () => {\n    axiosWithAuth()\n      .post(\"/api/colors\", color)\n      .then((res) => {\n        const colors = res.data;\n        updateColors(colors);\n        reset();\n      })\n      .catch((err) => {\n        console.log(\"Error:\", err);\n      });\n  };\n\n  const deleteColor = (color) => {\n    // make a delete request to delete this color\n    axiosWithAuth()\n      .delete(`http://localhost:5000/api/colors/${color.id}`)\n      .then((res) => {\n        const updatedColors = colors.filter((color) => color.id !== res.data);\n        updateColors(updatedColors);\n        setColor(initialColor);\n      })\n      .catch((err) => {\n        console.log(\"Error: \", err);\n      });\n  };\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    if (!(color.color && color.code.hex)) {\n      return;\n    }\n    if (color.id) {\n      updateColor();\n    } else {\n      saveColor();\n    }\n  };\n\n  return (\n    <div className=\"colors-wrap\">\n      <p>colors</p>\n      <ul>\n        {colors.map((color) => (\n          <li key={color.color} onClick={() => editColor(color)}>\n            <span>\n              <span\n                className=\"delete\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  deleteColor(color);\n                }}\n              >\n                x\n              </span>{\" \"}\n              {color.color}\n            </span>\n            <div\n              className=\"color-box\"\n              style={{ backgroundColor: color.code.hex }}\n            />\n          </li>\n        ))}\n      </ul>\n      <form onSubmit={handleFormSubmit}>\n        <legend>{`${editing ? \"edit\" : \"add\"} color`}</legend>\n        <label>\n          color name:\n          <input\n            onChange={(e) => setColor({ ...color, color: e.target.value })}\n            value={color.color}\n          />\n        </label>\n        <label>\n          hex code:\n          <input\n            onChange={(e) =>\n              setColor({\n                ...color,\n                code: { hex: e.target.value },\n              })\n            }\n            value={color.code.hex}\n          />\n        </label>\n        <div className=\"button-row\">\n          <button type=\"submit\">{editing ? \"update\" : \"save\"}</button>\n          <button onClick={reset}>cancel</button>\n        </div>\n      </form>\n      <div className=\"spacer\" />\n      {/* stretch - build another form here to add a color */}\n    </div>\n  );\n};\n\nexport default ColorList;\n"]},"metadata":{},"sourceType":"module"}